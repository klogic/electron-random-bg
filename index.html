<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8" />
    <title>Random Link</title>
    <meta
      http-equiv="Content-Security-Policy"
      content="script-src 'self' 'unsafe-inline';"
    />
    <link
      rel="stylesheet"
      href="node_modules/bootstrap/dist/css/bootstrap.min.css"
    />
  </head>
  <body>
    <div class="container text-center">
      <h1>Random Link <span id="windowId"></span></h1>
      <div id="generateWindowBtn" class="btn btn-success">+ Window</div>
      <div id="randomColorBtn" class="btn btn-success">Random Color</div>
    </div>
  </body>
  <script type="text/javascript">
    const { ipcRenderer } = require("electron");
    let windowId = null;

    document
      .querySelector("#generateWindowBtn")
      .addEventListener("click", () => {
        ipcRenderer.send("window-created", "");
      });

    document.querySelector("#randomColorBtn").addEventListener("click", () => {
      ipcRenderer.send("random-color", windowId);
    });

    ipcRenderer.on("window-created-reply", (event, windowId) => {
      document.getElementById("windowId").innerHTML = windowId;
    });
  </script>
</html>
